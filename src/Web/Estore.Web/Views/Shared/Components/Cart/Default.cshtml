@using Estore.Web.ViewModels.ViewComponents.Cart
@model OrdersDetailsViewModel

<!-- SHOPPING-CART START -->
<div class="col-lg-3">
    <div class="shopping-cart-out d-flex justify-content-end">
        <div class="shopping-cart">
            <a class="shop-link" href="cart.html" >
                <i class="fa fa-shopping-cart cart-icon"></i>
                <b>My Cart</b>
                @if (@Model.OrderedProductsCount > 0)
                {
                    <span class="ajax-cart-quantity">@Model.OrderedProductsCount</span>
                }
            </a>
            <div class="shipping-cart-overly">
                @if (@Model.OrderedProductsCount > 0)
                {
                    @foreach (var product in @Model.OrderedProducts)
                    {
                        <div class="shipping-item">
                            <span class="cross-icon"><i class="fa fa-times-circle"></i></span>
                            <div class="shipping-item-image">
                                <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">
                                    <img src="@product.ImageUrl" alt="shopping image" />
                                </a>
                            </div>
                            <div class="shipping-item-text">
                                <span>
                                    @product.Quantity <span class="pro-quan-x">x</span> 
                                    <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id" class="pro-cat">@product.Name</a>
                                </span>
                                <p>$@product.Price</p>
                            </div>
                        </div>
                    }
                }
                
                <div class="shipping-total-bill">
                    <div class="total-shipping-prices">
                        <span class="shipping-total">$@Model.TotalAmount</span>
                        <span>Total:</span>
                    </div>
                </div>
                <div class="shipping-checkout-btn">
                    <a href="checkout.html">Check out <i class="fa fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- SHOPPING-CART END -->
