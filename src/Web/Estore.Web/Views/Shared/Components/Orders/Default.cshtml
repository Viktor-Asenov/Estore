@using Estore.Web.ViewModels.ViewComponents.Orders
@model OrdersDetailsViewModel

<!-- SHOPPING-CART START -->
<div class="col-lg-3">
    <div class="shopping-cart-out d-flex justify-content-end">
        <div class="shopping-cart">
            <a class="shop-link" asp-controller="Carts" asp-action="Details" title="View my shopping cart">
                <i class="fa fa-shopping-cart cart-icon"></i>
                @if (@Model.OrderedProductsCount > 0)
                {
                    <span class="ajax-cart-quantity">@Model.OrderedProductsCount</span>
                }
            </a>
            <div class="shipping-cart-overly">
                @if (@Model.OrderedProductsCount > 0)
                {
                    @foreach (var product in @Model.OrderedProducts)
                    {
                        <div class="shipping-item" id="product">
                            <span class="cross-icon"><i id="@product.Id" class="fa fa-times-circle"></i></span>
                            <div class="shipping-item-text">
                                <span>
                                    @product.Quantity <span class="pro-quan-x">x</span> 
                                    <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id" class="pro-cat">@product.Name</a>
                                </span>
                                <p>$@product.Price</p>
                            </div>
                        </div>
                    }
                }
                
                <div class="shipping-total-bill">
                    <div class="total-shipping-prices">
                        <span class="shipping-total">$@Model.TotalAmount</span>
                        <span>Total:</span>
                    </div>
                </div>
                <div class="shipping-checkout-btn">
                    <a href="checkout.html">Check out <i class="fa fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- SHOPPING-CART END -->

@section Scripts {
    <script>
        $("i[id]").each(function myFunction(el) {
            $(this).click(function () {
                var productId = $(this).attr("id");
                var data = { productId: productId };
                console.log(data);
            })
        });
        
    </script>
}
